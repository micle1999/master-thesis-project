<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python Style Guide &mdash; BigchainDB 2.2.2 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Our Release Process" href="release-process.html" />
    <link rel="prev" title="Contributor Code of Conduct" href="code-of-conduct.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            BigchainDB
          </a>
              <div class="version">
                2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">BigchainDB Docs Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about-bigchaindb.html">About BigchainDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../properties.html">Properties of BigchainDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic-usage.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers/index.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query.html">Queries in BigchainDB</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributing to BigchainDB</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#contents">Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ways-to-contribute/index.html">Ways to Contribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev-setup-coding-and-contribution-process/index.html">Developer Setup, Coding &amp; Contribution Process</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Policies</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="code-of-conduct.html">Contributor Code of Conduct</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Python Style Guide</a></li>
<li class="toctree-l4"><a class="reference external" href="https://github.com/ascribe/javascript">JavaScript Style Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-process.html">Our Release Process</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../korean/index.html">BigchainDB 문서</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BigchainDB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Contributing to BigchainDB</a></li>
          <li class="breadcrumb-item"><a href="index.html">Policies</a></li>
      <li class="breadcrumb-item active">Python Style Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/contributing/cross-project-policies/python-style-guide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <!---
Copyright © 2020 Interplanetary Database Association e.V.,
BigchainDB and IPDB software contributors.
SPDX-License-Identifier: (Apache-2.0 AND CC-BY-4.0)
Code is Apache-2.0 and docs are CC-BY-4.0
---><div class="section" id="python-style-guide">
<h1>Python Style Guide<a class="headerlink" href="#python-style-guide" title="Permalink to this headline">¶</a></h1>
<p>This guide starts out with our general Python coding style guidelines and ends with a section on how we write &amp; run (Python) tests.</p>
<div class="section" id="general-python-coding-style-guidelines">
<h2>General Python Coding Style Guidelines<a class="headerlink" href="#general-python-coding-style-guidelines" title="Permalink to this headline">¶</a></h2>
<p>Our starting point is <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a>, the standard “Style Guide for Python Code.” Many Python IDEs will check your code against PEP8. (Note that PEP8 isn’t frozen; it actually changes over time, but slowly.)</p>
<p>BigchainDB uses Python 3.5+, so you can ignore all PEP8 guidelines specific to Python 2.</p>
<p>We use <a class="reference external" href="http://pre-commit.com/">pre-commit</a> to check some of the rules below before every commit but not everything is realized yet.
The hooks we use can be found in the <a class="reference external" href="https://github.com/bigchaindb/bigchaindb/blob/master/.pre-commit-config.yaml">.pre-commit-config.yaml</a> file.</p>
<div class="section" id="python-docstrings">
<h3>Python Docstrings<a class="headerlink" href="#python-docstrings" title="Permalink to this headline">¶</a></h3>
<p>PEP8 says some things about docstrings, but not what to put in them or how to structure them. <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">PEP257</a> was one proposal for docstring conventions, but we prefer <a class="reference external" href="https://google.github.io/styleguide/pyguide.html?showone=Comments#Comments">Google-style docstrings</a> instead: they’re easier to read and the <a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/napoleon.html">napoleon extension</a> for Sphinx lets us turn them into nice-looking documentation. Here are some references on Google-style docstrings:</p>
<ul class="simple">
<li><a class="reference external" href="https://google.github.io/styleguide/pyguide.html?showone=Comments#Comments">Google’s docs on Google-style docstrings</a></li>
<li><a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/index.html">napoleon’s docs include an overview of Google-style docstrings</a></li>
<li><a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_google.html">Example Google-style docstrings</a> (from napoleon’s docs)</li>
</ul>
</div>
<div class="section" id="maximum-line-length">
<h3>Maximum Line Length<a class="headerlink" href="#maximum-line-length" title="Permalink to this headline">¶</a></h3>
<p>PEP8 has some <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#id17">maximum line length guidelines</a>, starting with “Limit all lines to a maximum of 79 characters” but “for flowing long blocks of text with fewer structural restrictions (docstrings or comments), the line length should be limited to 72 characters.”</p>
<p>We discussed this at length, and it seems that the consensus is: <em>try</em> to keep line lengths less than 79/72 characters, unless you have a special situation where longer lines would improve readability. (The basic reason is that 79/72 works for everyone, and BigchainDB is an open source project.) As a hard limit, keep all lines less than 119 characters (which is the width of GitHub code review).</p>
</div>
<div class="section" id="single-or-double-quotes">
<h3>Single or Double Quotes?<a class="headerlink" href="#single-or-double-quotes" title="Permalink to this headline">¶</a></h3>
<p>Python lets you use single or double quotes. PEP8 says you can use either, as long as you’re consistent. We try to stick to using single quotes, except in cases where using double quotes is more readable. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This doesn</span><span class="se">\&#39;</span><span class="s1">t look so nice.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Doesn&#39;t this look nicer?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="breaking-strings-across-multiple-lines">
<h3>Breaking Strings Across Multiple Lines<a class="headerlink" href="#breaking-strings-across-multiple-lines" title="Permalink to this headline">¶</a></h3>
<p>Should we use parentheses or slashes (<code class="docutils literal notranslate"><span class="pre">\</span></code>) to break strings across multiple lines, i.e.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;This is a very long string, so long that it will not fit into just one line &#39;</span>
             <span class="s1">&#39;so it must be split across multiple lines.&#39;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;This is a very long string, so long that it will not fit into just one line &#39;</span> \
            <span class="s1">&#39;so it must be split across multiple lines.&#39;</span>
</pre></div>
</div>
<p>It seems the preference is for slashes, but using parentheses is okay too. (There are good arguments either way. Arguing about it seems like a waste of time.)</p>
</div>
<div class="section" id="how-to-format-long-import-statements">
<h3>How to Format Long import Statements<a class="headerlink" href="#how-to-format-long-import-statements" title="Permalink to this headline">¶</a></h3>
<p>If you need to <code class="docutils literal notranslate"><span class="pre">import</span></code> lots of names from a module or package, and they won’t all fit in one line (without making the line too long), then use parentheses to spread the names across multiple lines, like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">Tkinter</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Tk</span><span class="p">,</span> <span class="n">Frame</span><span class="p">,</span> <span class="n">Button</span><span class="p">,</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">Canvas</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span>
    <span class="n">LEFT</span><span class="p">,</span> <span class="n">DISABLED</span><span class="p">,</span> <span class="n">NORMAL</span><span class="p">,</span> <span class="n">RIDGE</span><span class="p">,</span> <span class="n">END</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Or</span>

<span class="kn">from</span> <span class="nn">Tkinter</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Tk</span><span class="p">,</span> <span class="n">Frame</span><span class="p">,</span> <span class="n">Button</span><span class="p">,</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">Canvas</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span>
                     <span class="n">LEFT</span><span class="p">,</span> <span class="n">DISABLED</span><span class="p">,</span> <span class="n">NORMAL</span><span class="p">,</span> <span class="n">RIDGE</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
</pre></div>
</div>
<p>For the rationale, see <a class="reference external" href="https://www.python.org/dev/peps/pep-0328/#rationale-for-parentheses">PEP 328</a>.</p>
</div>
<div class="section" id="using-the-operator-or-format-to-format-strings">
<h3>Using the % operator or <code class="docutils literal notranslate"><span class="pre">format()</span></code> to Format Strings<a class="headerlink" href="#using-the-operator-or-format-to-format-strings" title="Permalink to this headline">¶</a></h3>
<p>Given the choice:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;name: </span><span class="si">%s</span><span class="s1">; score: </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;name: </span><span class="si">{}</span><span class="s1">; score: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>we use the <code class="docutils literal notranslate"><span class="pre">format()</span></code> version. The <a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#str.format">official Python documentation says</a>, “This method of string formatting is the new standard in Python 3, and should be preferred to the % formatting described in String Formatting Operations in new code.”</p>
</div>
</div>
<div class="section" id="running-the-flake8-style-checker">
<h2>Running the Flake8 Style Checker<a class="headerlink" href="#running-the-flake8-style-checker" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="http://flake8.pycqa.org/en/latest/index.html">Flake8</a> to check our Python code style. Once you have it installed, you can run it using:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>flake8 --max-line-length 119 bigchaindb/
</pre></div>
</div>
</div>
<div class="section" id="writing-and-running-python-tests">
<h2>Writing and Running (Python) Tests<a class="headerlink" href="#writing-and-running-python-tests" title="Permalink to this headline">¶</a></h2>
<p>The content of this section was moved to <a class="reference external" href="https://github.com/bigchaindb/bigchaindb/blob/master/tests/README.md"><code class="docutils literal notranslate"><span class="pre">bigchaindb/tests/README.md</span></code></a>.</p>
<p>Note: We automatically run all tests on all pull requests (using Travis CI), so you should definitely run all tests locally before you submit a pull request. See the above-linked README file for instructions.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="code-of-conduct.html" class="btn btn-neutral float-left" title="Contributor Code of Conduct" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="release-process.html" class="btn btn-neutral float-right" title="Our Release Process" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, BigchainDB Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>